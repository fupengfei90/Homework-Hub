# 班级作业收集系统

一个基于微信小程序和云开发的班级作业收集系统，方便老师在各科班级群里发布作业，支持学生和家长查看作业详情。

## 功能特性

### 核心功能

- ✅ **发布作业**：老师可以发布包含文本、视频和音频的作业
- ✅ **链接支持**：支持直接粘贴视频和音频链接，无需上传文件
- ✅ **学科分类**：支持按学科（语文、数学、英语等）分类管理
- ✅ **作业浏览**：学生和家长可以浏览所有作业，支持按学科筛选
- ✅ **详情查看**：查看作业的完整内容，包括文本和媒体文件
- ✅ **待办提醒**：设置每日提醒时间，智能计算开始时间，到点自动提醒
- ✅ **时间规划**：根据目标完成时间和预估时间，自动计算建议开始时间
- ✅ **数据持久化**：使用微信云开发实现数据存储，支持增删改查

### 技术特点

- 使用微信小程序原生框架开发
- 集成微信云开发（CloudBase）进行数据存储
- 支持视频和音频文件上传与播放
- 界面简洁友好，符合微信小程序设计规范

## 项目结构

```
Homework-Hub/
├── app.js                 # 小程序入口文件
├── app.json               # 全局配置
├── app.wxss               # 全局样式
├── project.config.json    # 项目配置
├── sitemap.json          # 站点地图配置
├── pages/                 # 页面目录
│   ├── index/            # 首页（作业列表）
│   │   ├── index.js
│   │   ├── index.wxml
│   │   └── index.wxss
│   ├── publish/          # 发布作业页面
│   │   ├── publish.js
│   │   ├── publish.wxml
│   │   └── publish.wxss
│   └── detail/           # 作业详情页面
│       ├── detail.js
│       ├── detail.wxml
│       └── detail.wxss
├── cloudfunctions/       # 云函数目录（可选）
│   └── README.md        # 云函数说明文档
├── images/              # 图片资源目录
│   ├── home.png        # 首页图标（需自行添加）
│   ├── home-active.png # 首页激活图标（需自行添加）
│   ├── publish.png     # 发布页图标（需自行添加）
│   ├── publish-active.png # 发布页激活图标（需自行添加）
│   └── empty.png       # 空状态图片（需自行添加）
└── README.md           # 项目说明文档
```

## 部署步骤

### 1. 环境准备

- 安装 [微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
- 注册微信小程序账号（[微信公众平台](https://mp.weixin.qq.com/)）
- 获取小程序 AppID

### 2. 项目配置

1. **修改 `project.config.json`**
   - 将 `"appid": "your-appid"` 替换为你的小程序 AppID

2. **修改 `app.js`**
   - 将 `env: 'your-env-id'` 替换为你的云环境ID（见下方说明）

### 3. 云开发配置

1. **开通云开发**
   - 在微信开发者工具中，点击"云开发"按钮
   - 开通云开发服务（需要实名认证）
   - 创建云环境（选择基础版即可）

2. **获取云环境ID**
   - 在云开发控制台 → 设置 → 环境设置中查看环境ID
   - 将环境ID填入 `app.js` 中的 `env` 字段

3. **创建数据库集合**
   - 在云开发控制台 → 数据库 → 创建集合
   - 集合名称：`homework`
   - 权限设置：建议设置为"所有用户可读，仅创建者可写"

4. **创建数据库索引**（可选，提升查询性能）
   - 为 `createTime` 字段创建降序索引
   - 为 `subject` 字段创建普通索引

5. **配置云存储权限**
   - 在云开发控制台 → 存储 → 权限设置
   - 建议设置为"所有用户可读，仅创建者可写"

### 4. 添加图片资源

在 `images/` 目录下添加以下图标文件（或使用占位图片）：
- `home.png` / `home-active.png` - 首页标签栏图标
- `publish.png` / `publish-active.png` - 发布页标签栏图标
- `empty.png` - 空状态图片

图标尺寸建议：81px × 81px（@2x）

### 5. 编译运行

1. 在微信开发者工具中打开项目
2. 点击"编译"按钮
3. 在模拟器或真机上预览

## 使用说明

### 老师端

1. **发布作业**
   - 点击底部"发布作业"标签
   - 填写作业标题、选择学科、输入作业内容
   - 可选择上传视频或音频文件
   - 点击"发布作业"按钮提交

2. **管理作业**
   - 在首页可以查看所有已发布的作业
   - 点击作业卡片可以查看详情
   - 点击"删除"按钮可以删除作业

### 学生/家长端

1. **浏览作业**
   - 在首页查看所有作业列表
   - 使用顶部筛选栏按学科筛选作业

2. **查看详情**
   - 点击作业卡片查看完整内容
   - 可以播放视频和音频文件

## 数据库结构

### homework 集合

| 字段名 | 类型 | 说明 |
|--------|------|------|
| _id | String | 文档ID（自动生成） |
| title | String | 作业标题 |
| content | String | 作业内容 |
| subject | String | 学科 |
| videoUrl | String | 视频文件云存储路径（可选） |
| audioUrl | String | 音频文件云存储路径（可选） |
| createTime | Number | 创建时间戳 |
| updateTime | Number | 更新时间戳 |

## 注意事项

1. **文件大小限制**
   - 视频文件建议不超过 50MB
   - 音频文件建议不超过 20MB
   - 微信小程序对单个文件大小有限制

2. **权限设置**
   - 根据实际需求调整数据库和云存储的权限
   - 如果希望所有用户都能发布作业，可以设置为"所有用户可读写"

3. **云开发配额**
   - 免费版云开发有配额限制
   - 如果使用量大，建议升级到付费版

4. **真机测试**
   - 部分功能（如文件上传）需要在真机上测试
   - 确保小程序已发布或使用体验版进行测试

## 扩展功能建议

- [ ] 添加作业提交功能（学生提交作业）
- [ ] 添加作业提醒功能
- [ ] 添加作业统计功能
- [ ] 添加用户身份识别（区分老师、学生、家长）
- [ ] 添加作业评论功能
- [ ] 添加作业搜索功能
- [ ] 添加图片上传功能

## 技术支持

如有问题，请参考：
- [微信小程序官方文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [微信云开发文档](https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started.html)

## 许可证

本项目仅供学习和参考使用。

